{% extends "game-layout.html" %}

{% block title %}Genders{% endblock %}

{% block gameSpecific %}
<div class="content-container">
  <div class="content">
      <div class="information">
        <div class="score"></div>
        <div class="message-container">
          <div class="message"></div>
          <div class="tip"></div>
        </div>
      </div>
      <div class="word-display">
        <h1 class="article blank">____</h1>
        <h1 class="current"></h1>
      </div>
      <h4 class="hint"></h4>
      <div class="choices">
        <div class="choice der" onclick="game.interpretChoice(this)"></div>
        <div class="choice die" onclick="game.interpretChoice(this)"></div>
        <div class="choice das" onclick="game.interpretChoice(this)"></div>
      </div>
{% endblock %}
{% block uniqueJS %}
  <script type="text/javascript">
    let genders = ["masculine", "feminine", "neutral"];
    let blank = "____";
    let suffixLists = [ [["schluss", "schlag"], ["ismus"], ["ling", "name", "gang", "fall", "korb"], ["tag", "ant", "zug", "ent", "ich", "ist"], ["or", "us", "er", "en", "ig", "er"], []],
                    [["schaft", "nummer"], [""], ["heit", "keit", "bahn"], ["nis", "ion", "t√§t", "ung", "uhr", "enz", "anz", "art"], ["ei", "ie", "ik", "ur"], ["e"]], 
                    [["zimmer"], [], ["chen", "lein", "ment", "haus", "zeug", "land"], ["erl", "nis", "rad", "weh", "amt"], ["um" ,"ma"], []]];          

    function testSuffixes(word, suffixList) {
      var len = suffixList.length;
      for (let i = 0; i < len; i++) {
        let suffix = word.slice(-(len - i));
        for (let item of suffixList[i]) {
          if (item == suffix) return item;
        };
      };
      return null;
    };

    function suffixDisplay() {
      let suffix = testSuffixes(game.current[1], suffixLists[game.current[0]])
      if (suffix) {
        return `Tip: Words ending in <strong>-${suffix}</strong> are often ${genders[game.current[0]]}.`;
      } else {
        return "";
      }
    };
  </script>
{% endblock %}