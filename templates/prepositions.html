{% extends "game-layout.html" %}

{% block title %}Prepositions{% endblock %}

{% block gameSpecific %}
<div class="content-container">
  <div class="content">
    <div class="information">
      <div class="score"></div>
      <div class="message-container">
        <div class="message"></div>
        <div class="tip"></div>
      </div>
    </div>
    <div class="word-display">
      <h1 class="current"></h1>
      <h1 class="prep-case blank">ist _____</h1>
    </div>
    <h4 class="hint"></h4>
    <div class="choices">
      <div>
        <div class="choice akk"></div>
        <div class="choice dat"></div>
      </div>
      <div>
        <div class="choice mix"></div>
        <div class="choice gen"></div>
      </div>
    </div>
{% endblock %}

{% block scripts %}
  <script type="text/javascript" src="../static/scripts/games.js"></script>
  <script type="text/javascript">
    // Custom functions and data for this gametype
    let blank = "ist _____";
    
    function answerDisplay(answer, correctness) {
      if (correctness) {
        document.querySelectorAll('.blank')[0].innerHTML = `ist <em class='correct'>${game.key[answer]}</em>`;
        document.querySelectorAll('.message')[0].innerHTML = `Correct! You chose <em class='correct'>${game.key[answer]}</em>.`;
      } else {
        document.querySelectorAll('.blank')[0].innerHTML = `ist <em class='incorrect'>${game.key[game.current[0]]}</em>`;
        document.querySelectorAll('.message')[0].innerHTML = `Incorrect. You chose <em class='incorrect'>${game.key[answer]}</em>.`;
      };
    };

    let record = new questionRecord();
    let game = new PageState('{{ gameType }}', JSON.parse('{{ wordSet|tojson|safe }}'), JSON.parse('{{ key|tojson|safe }}'));
  </script>
{% endblock %}